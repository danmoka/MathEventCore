@using Microsoft.AspNetCore.Components.Forms
@using Microsoft.AspNetCore.Components.Routing
@using Microsoft.AspNetCore.Components.Web
@using Microsoft.AspNetCore.Components
@using MathEvent.Helpers
@using System.Net.Http

@inject ClientService ClientService

<input type="button" class="btn btn-danger mx-2" @onclick="DeleteProceedings" value="Удалить"/>

@code {
    [Parameter] public int PerformanceId { get; set; }
    private HttpClient _client;

    protected override void OnInitialized()
    {
        _client = ClientService.Client;
    }

    protected async Task DeleteProceedings()
    {
        await _client.GetAsync($"/api/Proceedings/deleteProceedings?performanceId={PerformanceId}");
    }
}
